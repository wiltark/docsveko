---
title: Gestion des routes
description: DÃ©finition et gestion des routes
---

# ğŸ›£ï¸ Gestion des routes

Veko.js gÃ¨re automatiquement toutes les routes de ton application Ã  partir du dossier `routes/`.  
Chaque fichier ou sous-dossier correspond Ã  une URL, et tu peux utiliser des paramÃ¨tres dynamiques, des middlewares, et toutes les mÃ©thodes HTTP.

## ğŸ“ Structure des routes

```plaintext
routes/
â”œâ”€â”€ index.js          # Route: /
â”œâ”€â”€ about.js          # Route: /about
â”œâ”€â”€ users/
â”‚   â”œâ”€â”€ index.js      # Route: /users
â”‚   â””â”€â”€ [id].js       # Route: /users/:id
â””â”€â”€ api/
    â””â”€â”€ products.js   # Route: /api/products
```

- `routes/index.js` â†’ `/`
- `routes/about.js` â†’ `/about`
- `routes/users/[id].js` â†’ `/users/:id`
- `routes/api/products.js` â†’ `/api/products`

## ğŸ“ DÃ©finir une route

Chaque fichier exporte un objet avec les mÃ©thodes HTTP souhaitÃ©es :

```javascript
// routes/users.js
module.exports = {
  // GET /users
  get: (req, res) => {
    res.render('users', { users: [] });
  },

  // POST /users
  post: (req, res) => {
    const newUser = req.body;
    res.status(201).json({ user: newUser });
  },

  // PUT /users
  put: (req, res) => {
    res.json({ message: 'Utilisateur modifiÃ©' });
  },

  // DELETE /users
  delete: (req, res) => {
    res.json({ message: 'Utilisateur supprimÃ©' });
  }
};
```

## ğŸ§© ParamÃ¨tres dynamiques

Utilise des crochets pour dÃ©finir des paramÃ¨tres dans le nom du fichier :

- `routes/users/[id].js` â†’ `/users/:id`
- `routes/posts/[slug]/comments.js` â†’ `/posts/:slug/comments`

Dans le handler, accÃ¨de au paramÃ¨tre via `req.params` :

```javascript
// routes/users/[id].js
module.exports = {
  get: (req, res) => {
    const userId = req.params.id;
    res.render('user', { userId });
  }
};
```

## ğŸ› ï¸ Routes personnalisÃ©es

Tu peux aussi exporter une fonction pour dÃ©finir des routes complexes ou ajouter des middlewares :

```javascript
// routes/custom.js
module.exports = (app) => {
  app.get('/custom', (req, res) => {
    res.json({ message: 'Route personnalisÃ©e' });
  });

  app.post('/custom/:action', middleware, (req, res) => {
    res.json({ action: req.params.action });
  });
};
```

## âš¡ Hot reload intelligent

En mode dÃ©veloppement, toute modification dâ€™un fichier de route recharge uniquement la route concernÃ©e, sans redÃ©marrer le serveur.

## ğŸ”„ Gestion dynamique des routes

Veko.js permet de crÃ©er, modifier ou supprimer des routes Ã  chaud :

```javascript
// CrÃ©er une route dynamiquement
app.createRoute('get', '/api/dynamic', (req, res) => {
  res.json({ message: 'Route crÃ©Ã©e dynamiquement !' });
});

// Mettre Ã  jour une route
app.updateRoute('get', '/api/dynamic', (req, res) => {
  res.json({ message: 'Route mise Ã  jour !' });
});

// Supprimer une route
app.deleteRoute('get', '/api/dynamic');
```

## ğŸ§ª Exemple complet

```javascript
// routes/api/users.js
const users = [];

module.exports = {
  get: async (req, res) => {
    res.json({ users });
  },
  post: async (req, res) => {
    const { name, email } = req.body;
    if (!name || !email) {
      return res.status(400).json({ error: 'Nom et email requis' });
    }
    const newUser = { id: users.length + 1, name, email };
    users.push(newUser);
    res.status(201).json({ user: newUser });
  }
};
```

## ğŸ¨ Utiliser EJS dans les routes

```javascript
// routes/index.js
module.exports = {
  get: (req, res) => {
    res.render('index', {
      title: 'Bienvenue sur Veko.js',
      message: 'Framework ultra-moderne pour Node.js'
    });
  }
};
```

---

## ğŸ“š Pour aller plus loin

- [Structure du projet](/guides/project-structure)
- [SystÃ¨me de plugins](/features/plugins)